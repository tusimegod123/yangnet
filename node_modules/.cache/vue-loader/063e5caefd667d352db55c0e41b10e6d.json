{"remainingRequest":"/Users/tusimegodwin/Downloads/stanbic-properties/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tusimegodwin/Downloads/stanbic-properties/src/views/UserProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tusimegodwin/Downloads/stanbic-properties/src/views/UserProfile.vue","mtime":1628751506494},{"path":"/Users/tusimegodwin/Downloads/stanbic-properties/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tusimegodwin/Downloads/stanbic-properties/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tusimegodwin/Downloads/stanbic-properties/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tusimegodwin/Downloads/stanbic-properties/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzCn0gZnJvbSAidnVleCI7CmltcG9ydCBCb3R0b25OYXYgZnJvbSAiLi4vY29tcG9uZW50cy9Cb3R0b25OYXYudnVlIjsKaW1wb3J0IEFib3V0IGZyb20gIi4vQWJvdXQudnVlIjsKaW1wb3J0IEZvb3RlciBmcm9tICIuLi9jb21wb25lbnRzL0Zvb3Rlci52dWUiOwppbXBvcnQgTWFpbk5hdiBmcm9tICIuLi9jb21wb25lbnRzL01haW5OYXYudnVlIjsKaW1wb3J0IFRvcE5hdiBmcm9tICIuLi9jb21wb25lbnRzL1RvcE5hdi52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgVG9wTmF2LAogICAgICAgIE1haW5OYXYsCiAgICAgICAgQm90dG9uTmF2LAogICAgICAgIEFib3V0LAogICAgICAgIEZvb3RlcgogICAgfSwKICAgIG5hbWU6ICJVc2VyUHJvZmlsZSIsCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIHZhbGlkOiB0cnVlLAogICAgICAgIHVzZXJEYXRhOiB7CiAgICAgICAgICAgIHVzZXJfaWQ6IDAsCiAgICAgICAgICAgIHNlY29uZGFyeV9lbWFpbDogIiIsCiAgICAgICAgICAgIHNlY29uZGFyeV9jb250YWN0OiAiIiwKICAgICAgICAgICAgYnVzaW5lc3NfbG9jYXRpb246ICIiCiAgICAgICAgfSwKICAgICAgICAgdXNlclJ1bGVzOiB7CiAgICAgICAgICAgIHNlY29uZGFyeV9lbWFpbDogdmFsdWUgPT4gISF2YWx1ZSB8fCAiU2Vjb25kYXJ5IGVtYWlsIGlzIHJlcXVpcmVkLiIsCiAgICAgICAgICAgIHNlY29uZGFyeV9jb250YWN0OiB2ID0+ICh2ICYmIHYubGVuZ3RoID49IDcpIHx8ICJNaW4gY2hhcmFjdGVycyBzaG91bGQgYmUgOCIsCiAgICAgICAgICAgIGJ1c2luZXNzX2xvY2F0aW9uOiB2YWx1ZSA9PiAhIXZhbHVlIHx8ICJCdXNpbmVzcyBsb2NhdGlvbiBpcyByZXF1aXJlZC4iCiAgICAgICAgfSwKICAgIH0pLAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBHZXR0ZXJzKFsnY3VycmVudExvZ2dlZGluVXNlciddKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKFsidXBkYXRlVXNlciJdKSwKICAgICAgICBhc3luYyB1cGRhdGVVc2VyRGV0YWlscygpIHsKICAgICAgICAgICAgdGhpcy51c2VyRGF0YS51c2VyX2lkID0gdGhpcy5jdXJyZW50TG9nZ2VkaW5Vc2VyLnVzZXJfaWQ7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMudXBkYXRlVXNlcih0aGlzLnVzZXJEYXRhKTsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy4kcm91dGVyLnJlcGxhY2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncHJvdGVjdGVkUGF0aCcpIHx8ICcvJyk7CiAgICAgICAgICAgICAgICAgICAgLy8gc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgncHJvdGVjdGVkUGF0aCcpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcmVnaXN0ZXInKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcigiRmFpbGVkLCBQbGVhc2UgdHJ5IGFnYWluIik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAp9Owo="},{"version":3,"sources":["UserProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserProfile.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div>\n    <top-nav />\n    <main-nav />\n    <v-container>\n        <v-row>\n            <v-col cols=\"12\" sm=\"12\" md=\"12\" xl=\"12\">\n                <h3 style=\"text-align: center; margin-top: 20px\">Your profile</h3>\n                <v-form id=\"form\" style=\"background-color: #e7f0ff\" ref=\"moreUserDataForm\" v-model=\"valid\" lazy-validation>\n                    <v-text-field v-model=\"userData.user_id\" type=\"hidden\"></v-text-field>\n                    <v-container>\n                        <v-row>\n                            <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                                <p>Secondary Email:</p>\n                                <v-text-field :rules=\"[userRules.secondary_email]\" v-model=\"userData.secondary_email\" label=\"Secondary Email\" placeholder=\"Enter secondary email\" solo></v-text-field>\n                            </v-col>\n                        </v-row>\n                        <v-row>\n                            <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                                <p>Secondary Phone:</p>\n                                <v-text-field :rules=\"[userRules.secondary_contact]\" v-model=\"userData.secondary_contact\" label=\"Username\" placeholder=\"Placeholder\" solo></v-text-field>\n                            </v-col>\n                        </v-row>\n                        <v-row>\n                            <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                                <p>Business Location</p>\n                                <v-text-field :rules=\"[userRules.business_location]\" v-model=\"userData.business_location\" label=\"Business Location \" placeholder=\"Business location\" solo></v-text-field>\n                            </v-col>\n                        </v-row>\n                        <v-row>\n                            <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                                <v-btn color=\"primary\" :disabled=\"!valid\" @click=\"updateUserDetails\" block>Update Your Details</v-btn>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                </v-form>\n            </v-col>\n        </v-row>\n    </v-container>\n    <about />\n    <Footer />\n    <h3></h3>\n</div>\n</template>\n\n<script>\nimport {\n    mapActions, mapGetters\n} from \"vuex\";\nimport BottonNav from \"../components/BottonNav.vue\";\nimport About from \"./About.vue\";\nimport Footer from \"../components/Footer.vue\";\nimport MainNav from \"../components/MainNav.vue\";\nimport TopNav from \"../components/TopNav.vue\";\nexport default {\n    components: {\n        TopNav,\n        MainNav,\n        BottonNav,\n        About,\n        Footer\n    },\n    name: \"UserProfile\",\n    data: () => ({\n        valid: true,\n        userData: {\n            user_id: 0,\n            secondary_email: \"\",\n            secondary_contact: \"\",\n            business_location: \"\"\n        },\n         userRules: {\n            secondary_email: value => !!value || \"Secondary email is required.\",\n            secondary_contact: v => (v && v.length >= 7) || \"Min characters should be 8\",\n            business_location: value => !!value || \"Business location is required.\"\n        },\n    }),\n    computed: {\n        ...mapGetters(['currentLoggedinUser'])\n    },\n    methods: {\n        ...mapActions([\"updateUser\"]),\n        async updateUserDetails() {\n            this.userData.user_id = this.currentLoggedinUser.user_id;\n            try {\n                const response = await this.updateUser(this.userData);\n                if (response.status == 200 || response.status === 201) {\n                    // this.$router.replace(sessionStorage.getItem('protectedPath') || '/');\n                    // sessionStorage.removeItem('protectedPath');\n                    this.$router.push('/register');\n                }\n            } catch (error) {\n                console.log(error);\n                // throw new Error(\"Failed, Please try again\");\n            }\n        }\n    },\n};\n</script>\n\n<style scoped>\n#form {\n    background-color: #e7f0ff;\n    margin-left: auto;\n    margin-right: auto;\n    width: 900px;\n    border-radius: 6px;\n}\n\n#reach {\n    text-align: center;\n    font-size: 0.9rem;\n    margin-top: 30px;\n}\n</style>\n"]}]}